function margin_of_error(e, n = 1e6, r = 95) { if (z_factor = { 80: 1.28, 85: 1.44, 90: 1.65, 95: 1.96, 99: 2.58 }, z_factor.hasOwnProperty(r)) return iv = Math.sqrt(4 * (n - 1) * e / (n - e)), moe = Math.round(z_factor[r] / iv * 100), moe; console.error("Invalid confidence level.") } var Webflow = Webflow || []; Webflow.push(function () { var e, n = $("#responses-slider"), r = $("#responses-field"), o = $("#responses-button"), t = $("#responses-moe"), i = $("#responses-moe-link"), a = $("#min-error"), s = $("#max-error"), f = n.parents(".slider").find(".slider---progress"), u = 500, c = 8e3, l = !1, d = !1, v = !0; function p(e, n, r) { var o, t, i, a; if ("range" === r && (o = (o = Math.floor(e / n)) >= 4 ? 3 : o, s(), function (r, t) { a = r + Math.round((e - o * n) * t / n) }(t, i)), "field" === r) { if (e >= 50 && e <= 250) o = 0; else if (e > 250 && e <= 500) o = 1; else if (e > 500 && e <= 1e3) o = 2; else { if (!(e > 1e3 && e <= 5e3)) return !1; o = 3 } s(), function (r, t) { a = o * n + Math.round((e - r) * n / t) }(t, i) } function s() { 0 === o && (t = 50, i = 200), 1 === o && (t = 250, i = 250), 2 === o && (t = 500, i = 500), 3 === o && (t = 1e3, i = 4e3) } return a } function h(e, n) { var r = "https://centiment-fs.webflow.io/" , o = e, t = "?", i = 0; for (var [a, s] of Object.entries(n)) 0 !== i && (t += "&"), t += a + "=" + s, i++; return r + o + t } function m() { v = r[0].checkValidity() } function g(e) { l = e[0].validity.rangeUnderflow, d = e[0].validity.rangeOverflow } function w() { l || a.hide(), d || s.hide() } function M() { l && a.show(), d && s.show() } function k() { var e = margin_of_error(u); "" !== r.val() && t.text(e) } function y(e, n, r) { var o = 100 * (r - n) / r + "%"; e.css("right", o) } function _() { var e = h("/margin-of-error", { sample: u, population: 1e6 }); i.attr("href", e) } $(".slider---bar").each(function (e) { var n = $(this), r = n.find(".input-range"), o = n.find(".slider---progress"), t = r.val(), i = parseInt(r.attr("max")) - parseInt(r.attr("min")); r.on("input", function () { var e = $(this).val(); y(o, e, i) }), y(o, t, i) }), r.on("focus", function () { r.on("keyup", function () { clearTimeout(e), u = parseInt($(this).val()), c = p(u, 4e3, "field"), m(), g(r), v ? (_(), w(), k(), u <= 5e3 ? (n.val(c), y(f, c, 16e3)) : u > 5e3 && u <= 1e4 && (n.val(16e3), y(f, 16e3, 16e3))) : e = setTimeout(function () { w(), M() }, 500) }), r.on("keydown", function () { clearTimeout(e) }) }), n.on("change", function () { m() }), n.on("input", function () { var e, n; g(r), w(), k(), c = parseInt($(this).val()), prevResponses = p(c, 4e3, "range"), (e = prevResponses) >= 50 && e < 250 ? n = 5 * Math.round(e / 5) : e >= 250 && e < 500 ? n = 10 * Math.round(e / 10) : e >= 500 && e < 1e3 ? n = 25 * Math.round(e / 25) : e >= 1e3 && e <= 5e3 && (n = 100 * Math.round(e / 100)), u = n, _(), r.val(u) }), r.on("focus", function () { $(this).on("keypress", function (e) { 13 === e.which && (e.preventDefault(), o.triggerHandler("click")) }) }), o.click(function (e) { e.preventDefault(), v ? window.location = h("forms/audience-request-accomplish", { responses: u, 'lp-src' : 'form' }) : (g(r), M()) }), _(), r.val(u), n.val(c), y(f, c, 16e3) });